//main project
//Created by Maria-Lavinia Buleac on 05/09/2020
//Copyright 2020 Maria-Lavinia Buleac. All rights reserved

int GREEN = 2;
int YELLOW = 3;
int RED = 4;
const int button = 7;
int DELAY_GREEN = 10000;
int DELAY_YELLOW = 3500;
int DELAY_RED = 10000;
const int buzzer = 12;

void setup()
{
  pinMode(GREEN, OUTPUT);
  pinMode(YELLOW, OUTPUT);
  pinMode(RED, OUTPUT);
  pinMode(LED_BUILTIN, OUTPUT);
  pinMode(buzzer, OUTPUT);
  //Serial.begin(9600);
  pinMode(5, INPUT);
}

void loop()
{
  if (digitalRead(5) == HIGH) {
    green_light();
    delay(DELAY_GREEN);
    for (int i = 0; i < 5; i++) {
      digitalWrite(GREEN, HIGH);
      delay(100);
      digitalWrite(GREEN, LOW);
      delay(100);
    }
    yellow_light();
    delay(DELAY_YELLOW);
  }
  else if(digitalRead(5)==LOW) {
    red_light();
    delay(DELAY_RED);
    for (int i = 0; i < 5; i++) {
      digitalWrite(RED, HIGH);
      delay(100);
      digitalWrite(RED, LOW);
      delay(100);
      tone(buzzer, 1000);
      delay(100);
      noTone(buzzer);
      delay(100);
    }
  }
}

void green_light()
{
  digitalWrite(GREEN, HIGH);
  digitalWrite(YELLOW, LOW);
  digitalWrite(RED, LOW);
}

void yellow_light()
{
  digitalWrite(GREEN, LOW);
  digitalWrite(YELLOW, HIGH);
  digitalWrite(RED, LOW);
}

void red_light()
{
  digitalWrite(GREEN, LOW);
  digitalWrite(YELLOW, LOW);
  digitalWrite(RED, HIGH);
  for (int i = 0; i <= 100; i++) {
    tone(buzzer, 100);
  }
}
